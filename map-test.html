<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Untitled Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js"></script>
    <script>
        $(document).ready(function () {
            //GOOGLE MAP
            function initMap() {
                var map = new google.maps.Map(document.getElementById('gmap_canvas'), {
                    zoom: 10,
                    center: {
                        lat: 50.334513,
                        lng: -5.153779
                    },
                    styles: [{
                                "featureType": "administrative",
                                "stylers": [
                                    { "visibility": "off" }
                                ]
                                }, {
                                "featureType": "poi",
                                "stylers": [
                                    { "visibility": "off" }
                                ]
                                }, {
                                "featureType": "road",
                                "stylers": [
                                    { "visibility": "off" }
                                ]
                                }, {
                                "featureType": "landscape",
                                "stylers": [
                                    { "visibility": "off" }
                                ]
                                }, {
                                "featureType": "water",
                                "elementType": "geometry.fill",
                                "stylers": [
                                    { "saturation": -13 },
                                    { "color": "#52b3d9" },
                                    { "visibility": "on" }
                                ]
                                }, {
                                "featureType": "transit",
                                "stylers": [
                                    { "visibility": "off" }
                                ]
                                }, {
                                "featureType": "landscape",
                                "elementType": "geometry.fill",
                                "stylers": [
                                    { "color": "#ffffff" },
                                    { "visibility": "on" },
                                    { "weight": 5.2 }
                                ]
                                }]                    
                            });

                setMarkers(map);
            }

            function setMarkers(map) {
                // Data for the markers consisting of a name, a LatLng and a zIndex for the
                // order in which these markers should display on top of each other.
                var campuses = [
                  ['Cornwall College Camborne', 50.2268081, -5.2725985, '#'],
                  ['Cornwall College St Austell', 50.4468081, -5.4425985, '#' ],
                  ['Duchy College Rosewarne', 50.3068081, -5.3025985, '#'],
                  ['Duchy College Stoke Climsland', 50.3568081, -5.3525985, '#'],
                  ['Cornwall College Saltash', 50.4068081, -5.4025985, '#']
                ];
                
                //init the info window and set the max width
                var infowindow = new google.maps.InfoWindow({
                  maxWidth: 200
                });
                
                //Loop through the loactions
                for (var i = 0; i < campuses.length; i++) {
                    var campus = campuses[i];
                    var marker = new google.maps.Marker({
                        position: {
                            lat: campus[1],
                            lng: campus[2]
                        },
                        map: map,
                        //icon: image,
                        //shape: shape,
                        title: campus[0]
                            //zIndex: beach[3]
                    });
                      google.maps.event.addListener(marker, 'click', (function(marker, i) {
                        return function() {
                          infowindow.setContent('<h4>'+campuses[i][0]+'</h4>'+'<a href="'+campuses[i][3]+'" class="campus-button">Visit our campus site</a>');
                          infowindow.open(map, marker);
                        }
                      })(marker, i));                    
                }
            }

            google.maps.event.addDomListener(window, 'load', initMap);
        });
    </script>
    <style>
        #gmap_canvas {
            position: relative;
            height: 600px;
            width: 100%;
        }
        
        #gmap_canvas img {
            max-width: none!important;
            background: none!important
        }
    </style>
</head>

<body>
    <div id="gmap_canvas"></div>
</body>

</html>